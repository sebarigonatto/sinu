@model SINU.ViewModels.IDPersonaVM
@{
    ViewBag.Title = "Secuencias";
    Layout = "~/Views/Shared/_Layout.cshtml";
}
<link href="~/Content/CssPostulante.css" rel="stylesheet" />

@Html.AntiForgeryToken()
@Html.HiddenFor(m => m.ID_PER, new { @id = "vPersona_DatosBasicosVM_IdPersona" })
<div class="p-1 bg-white rounded shadow mb-1" style="padding:0px !important">
    <ul role="tablist" class="nav nav-tabs nav-pills with-arrow lined bg-dark flex-sm-row text-center" style="padding-bottom:0.2rem">
        <li class="nav-item flex-sm-fill" data-placement="top">
            <a class="nav-link text-uppercase font-weight-bold mr-sm-3 rounded-0 atab">
                Documentacion de @Model.NomyApe N° de Preinscripcion:@ViewBag.NInscripcion - Modalidad : @ViewBag.Modalidad
            </a>
        </li>
    </ul>
</div>
<div class="tab-content">
    @*<div id="Documentacion" role="tabpanel" aria-labelledby="profile-tab" class="tab-pane fade  p-0 navbar-expand-lg h-75">*@
    <div class="container p-0">
        <div class="row">


            <nav class="col-sm-2 mr-3 navbar navbar1 navbar-expand-md  navbar-light  bg-dark ml-3 pl-2 oculto">
                @*<a class="navbar-brand" href="#">Navbar</a>*@


                <!-- Navbar links -->
                <div class="collapse navbar-collapse" id="TABDocumentacion">
                    <ul class="nav nav-tabs nav-pills with-arrow lined  flex-sm-row text-left" id="myTab" role="tablist" style="border-bottom: 0px solid;">

                        <li class="nav-item flex-sm-fill bli">
                            <a class="nav-link text-uppercase font-weight-bold  rounded-0 active atab" data-toggle="tab" href="#DatosPersonales" role="tab" aria-controls="DatosPersonales" aria-selected="true">
                                Datos Personales
                                <span class="fa fa-check-circle" id="CheckVal0" hidden></span>
                            </a>
                        </li>
                        <li class="nav-item flex-sm-fill bli">
                            <a class="nav-link text-uppercase font-weight-bold  rounded-0  atab" data-toggle="tab" href="#DocuPenal" role="tab" aria-controls="DocuPenal" aria-selected="false">
                                Antedecentes Penales
                            </a>
                        </li>
                        <li class="nav-item flex-md-fill bli">
                            <a class="nav-link text-uppercase font-weight-bold rounded-0 atab" data-toggle="tab" href="#Domicilio" role="tab" aria-controls="Domicilio" aria-selected="false">
                                Domicilio
                                <span class="fa fa-check-circle" id="CheckVal2" hidden></span>
                            </a>
                        </li>
                        <li class="nav-item flex-md-fill bli">
                            <a class="nav-link text-uppercase font-weight-bold rounded-0 atab" data-toggle="tab" href="#Estudios" role="tab" aria-controls="Estudios" aria-selected="false">
                                Estudios
                                <span class="fa fa-check-circle" id="CheckVal3" hidden></span>
                            </a>
                        </li>
                        <li class="nav-item flex-md-fill bli">
                            <a class="nav-link text-uppercase font-weight-bold rounded-0 atab" data-toggle="tab" href="#Idiomas" role="tab" aria-controls="Idiomas" aria-selected="false">
                                Idiomas
                                <span class="fa fa-check-circle" id="CheckVal4" hidden></span>
                            </a>
                        </li>
                        <li class="nav-item flex-md-fill bli">
                            <a class="nav-link text-uppercase font-weight-bold rounded-0 atab" data-toggle="tab" href="#ActMilitar" role="tab" aria-controls="ActMilitar" aria-selected="false">
                                Actividad Militar
                                <span class="fa fa-check-circle" id="CheckVal5" hidden></span>
                            </a>
                        </li>
                        <li class="nav-item flex-md-fill bli">
                            <a class="nav-link text-uppercase font-weight-bold rounded-0 atab" data-toggle="tab" href="#SituOcu" role="tab" aria-controls="SituOcu" aria-selected="false">
                                Situacion Ocupacional
                                <span class="fa fa-check-circle" id="CheckVal6" hidden></span>
                            </a>
                        </li>
                        @*Talles y medidas: antiguamente llamado Antropometria*@
                        <li class="nav-item flex-md-fill bli">
                            <a class="nav-link text-uppercase font-weight-bold rounded-0 atab" data-toggle="tab" href="#Antropometria" role="tab" aria-controls="Antropometria" aria-selected="false">
                                Medidas y Tallas
                                <span class="fa fa-check-circle" id="CheckVal7" hidden></span>
                            </a>
                        </li>
                        <li class="nav-item flex-md-fill bli" id="FamiTAB">
                            <a class="nav-link text-uppercase font-weight-bold rounded-0 atab" data-toggle="tab" href="#Familia" role="tab" aria-controls="Familia" aria-selected="false">
                                Familia
                                <span class="fa fa-check-circle" id="CheckVal8" hidden></span>
                            </a>
                        </li>
                        <li class="nav-item flex-md-fill bli" id="ListaProblemaAB">
                            <a class="nav-link text-uppercase font-weight-bold rounded-0 atab" data-toggle="tab" href="#DocumentosNecesarios" role="tab" aria-controls="DocuAnexo" aria-selected="false">
                                Documentacion Presentada
                                <span class="fa fa-check-circle" id="CheckVal9" hidden></span>
                            </a>
                        </li>
                        <li class="nav-item flex-md-fill bli" id="ValidarTAB">
                            <a class="nav-link text-uppercase font-weight-bold rounded-0 atab" data-toggle="tab" href="#ValidarDatos" role="tab" aria-controls="ValidarDatos" aria-selected="false">
                                Validar Datos
                            </a>
                        </li>
                    </ul>
                </div>
            </nav>
            <div class="col-md-9 borderdiv1" id="TABBloqueo">
                @*<div class="mt-4  position-absolute col-md-11">
                        <button class="btn btn-success float-md-left" >Envia a Validar</button>
                    </div>*@
                <div class="tab-content TABMovil" id="TabDocumentacion">
                    @* VISTA DE DATO PERSONAL *@
                    <div class="pos-f-t collapse tab-pane fade show active tab-nav" id="DatosPersonales">
                        <nav class="navbar navbar-dark bg-dark ocultnav">
                            <a class="navbar-brand" href="#DatosPersonales">Datos Personales</a>
                            <button id="BTDatosPersonalesNAV" class="navbar-toggler" type="button" data-toggle="collapse" data-target="#DatosPersonalesNAV" role="tabpanel" aria-labelledby="DatosPersonalesNAV-tab" aria-controls="DatosPersonalesNAV" aria-expanded="false" aria-label="Toggle navigation">
                                <span class="icon-bar"></span>
                                <span class="icon-bar"></span>
                                <span class="icon-bar"></span>
                            </button>
                        </nav>
                        <div class="collapse tab-pane fade show active nav-tab pt-4 " id="DatosPersonalesNAV">
                            @Html.Action("DatosPersonales", "Postulante", new { ID_persona = Model.ID_PER })
                            <div class="accordion" id="accordionExample">
                                <div class="card">
                                    <div class="card-header">
                                        <h2 class="mb-0">
                                            <button class="btn btn-link habil" type="button" data-toggle="collapse" data-target="#collapseOne" aria-expanded="true" aria-controls="collapseOne">
                                                <i class="fa fa-plus-circle"></i> Agregar Problema
                                            </button>
                                        </h2>
                                    </div>
                                    <div id="collapseOne" class="collapse" aria-labelledby="headingOne" data-parent="#accordionExample">
                                        <div class="card-body">
                                            <div id="ProblemaPantalla1" disabled="disabled">
                                                @* es id del div esta conformado por el nombre de la accion y el id de la pantalla que corresponde *@
                                                @Html.Action("ProblemaPantalla", "Delegacion", new { IdPostulante = Model.ID_PER, IdPantalla = 1 })
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <br />
                            <div class="container text-center">
                                @Ajax.ActionLink("Validar", "CerrarPantalla", new { id = Model.ID_PER, IdPanatlla = 1, Aoc = 1 }, new AjaxOptions
                              {
                                HttpMethod = "POST",
                                OnSuccess = "Exito(data,status,xhr)",
                                OnFailure = "Falla"
                              }, new { @id = "BTValidar", @class = "btn btn-success btn-lg" })

                                @Ajax.ActionLink("Abrir", "CerrarPantalla", new { id = Model.ID_PER, IdPanatlla = 1, Aoc = 0 }, new AjaxOptions
                              {
                                HttpMethod = "POST",
                                OnSuccess = "Exito(data,status,xhr)",
                                OnFailure = "Falla"
                              }, new { @id = "BTValidar", @class = "btn btn-success btn-lg" })
                            </div>
                        </div>
                    </div>
                    @* VISTA DE Antecedentes Penales *@
                    <div class="pos-f-t collapse tab-pane fade tab-nav" id="DocuPenal">
                        <nav class="navbar navbar-dark bg-dark ocultnav">
                            <a class="navbar-brand" href="#">Antecedentes Penales</a>
                            <button id="BTDocuPenalNAV" class="navbar-toggler collapsed" type="button" data-toggle="collapse" data-target="#DocuPenalNAV" role="tabpanel" aria-labelledby="DocuPenalNAV-tab" aria-controls="DocuPenalNAV" aria-expanded="false" aria-label="Toggle navigation">
                                <span class="icon-bar"></span>
                                <span class="icon-bar"></span>
                                <span class="icon-bar"></span>
                            </button>
                        </nav>
                        <div class="collapse tab-pane fade nav-tab pt-4" id="DocuPenalNAV">
                            @*@Html.Action("DocuPenal", "Postulante", new { ID_persona = Model.ID_PER })*@
                            @Html.Partial("_Docupenal")
                            <br />
                            <div class="accordion" id="accordionExample2">
                                <div class="card">
                                    <div class="card-header" id="headingTwo">
                                        <h2 class="mb-0">
                                            <button class="btn btn-link habil" type="button" data-toggle="collapse" data-target="#collapseTwo" aria-expanded="true" aria-controls="collapseOne">
                                                <i class="fa fa-plus-circle"></i> Agregar Problema
                                            </button>
                                        </h2>
                                    </div>
                                    <div id="collapseTwo" class="collapse" aria-labelledby="headingTwo" data-parent="#accordionExample2">
                                        <div class="card-body">
                                            <div id="ProblemaPantalla2">
                                                @* es id del div esta conformado por el nombre de la accion y el id de la pantalla que corresponde *@
                                                @Html.Action("ProblemaPantalla", "Delegacion", new { IdPostulante = Model.ID_PER, IdPantalla = 2 })
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <br />
                            <div class="container text-center">
                                @Ajax.ActionLink("Validar", "CerrarPantalla", new { id = Model.ID_PER, IdPanatlla = 2, Aoc = 1 }, new AjaxOptions
                              {
                                HttpMethod = "POST",
                                OnSuccess = "Exito(data,status,xhr)",
                                OnFailure = "Falla"
                              }, new { @id = "BTValidar", @class = "btn btn-success btn-lg" })
                                @Ajax.ActionLink("Abrir", "CerrarPantalla", new { id = Model.ID_PER, IdPanatlla = 2, Aoc = 0 }, new AjaxOptions
                                 {
                                   HttpMethod = "POST",
                                   OnSuccess = "Exito(data,status,xhr)",
                                   OnFailure = "Falla"
                                 }, new { @id = "BTValidar", @class = "btn btn-success btn-lg" })
                            </div>
                        </div>
                    </div>
                    @* VISTA DE DOMICILIO *@
                    <div class="pos-f-t collapse tab-pane fade tab-nav" id="Domicilio">
                        <nav class="navbar navbar-dark bg-dark ocultnav">
                            <a class="navbar-brand" href="#">Domicilio</a>
                            <button id="BTDomicilioNAV" class="navbar-toggler collapsed" type="button" data-toggle="collapse" data-target="#DomicilioNAV" role="tabpanel" aria-labelledby="DomicilioNAV-tab" aria-controls="DomicilioNAV" aria-expanded="false" aria-label="Toggle navigation">
                                <span class="icon-bar"></span>
                                <span class="icon-bar"></span>
                                <span class="icon-bar"></span>
                            </button>
                        </nav>
                        <div class="collapse tab-pane fade nav-tab pt-4" id="DomicilioNAV">
                            @Html.Action("Domicilio", "Postulante", new { ID_persona = Model.ID_PER })
                            <br />
                            <div class="accordion" id="accordionExample3">
                                <div class="card">
                                    <div class="card-header" id="headingThree">
                                        <h2 class="mb-0">
                                            <button class="btn btn-link habil" type="button" data-toggle="collapse" data-target="#collapseThree" aria-expanded="true" aria-controls="collapseThree">
                                                <i class="fa fa-plus-circle"></i> Agregar Problema
                                            </button>
                                        </h2>
                                    </div>
                                    <div id="collapseThree" class="collapse" aria-labelledby="headingThree" data-parent="#accordionExample3">
                                        <div class="card-body">
                                            <div id="ProblemaPantalla3">
                                                @* es id del div esta conformado por el nombre de la accion y el id de la pantalla que corresponde *@
                                                @Html.Action("ProblemaPantalla", "Delegacion", new { IdPostulante = Model.ID_PER, IdPantalla = 3 })
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <br />
                            <div class="container text-center">
                                @Ajax.ActionLink("Validar", "CerrarPantalla", new { id = Model.ID_PER, IdPanatlla = 3, Aoc = 1 }, new AjaxOptions
                              {
                                HttpMethod = "POST",
                                OnSuccess = "Exito(data,status,xhr)",
                                OnFailure = "Falla"
                              }, new { @id = "BTValidar", @class = "btn btn-success btn-lg" })
                                @Ajax.ActionLink("Abrir", "CerrarPantalla", new { id = Model.ID_PER, IdPanatlla = 3, Aoc = 0 }, new AjaxOptions
                                 {
                                   HttpMethod = "POST",
                                   OnSuccess = "Exito(data,status,xhr)",
                                   OnFailure = "Falla"
                                 }, new { @id = "BTValidar", @class = "btn btn-success btn-lg" })
                            </div>
                        </div>
                    </div>
                    @* VISTA DE ESTUDIOS *@
                    <div class="pos-f-t collapse tab-pane fade tab-nav" id="Estudios">
                        <nav class="navbar navbar-dark bg-dark ocultnav">
                            <a class="navbar-brand" href="#">Estudios</a>
                            <button id="BTEstudiosNAV" class="navbar-toggler collapsed" type="button" data-toggle="collapse" data-target="#EstudiosNAV" role="tabpanel" aria-labelledby="EstudiosNAV-tab" aria-controls="EstudiosNAV" aria-expanded="false" aria-label="Toggle navigation">
                                <span class="icon-bar"></span>
                                <span class="icon-bar"></span>
                                <span class="icon-bar"></span>
                            </button>
                        </nav>
                        <div class="collapse tab-pane fade nav-tab pt-4" id="EstudiosNAV">
                            @Html.Action("Estudios", "Postulante", new { ID_persona = Model.ID_PER })
                            <br />
                            <div class="accordion" id="accordionExample4">
                                <div class="card">
                                    <div class="card-header" id="headingFour">
                                        <h2 class="mb-0">
                                            <button class="btn btn-link habil" type="button" data-toggle="collapse" data-target="#collapseFour" aria-expanded="true" aria-controls="collapseFour">
                                                <i class="fa fa-plus-circle"></i> Agregar Problema
                                            </button>
                                        </h2>
                                    </div>
                                    <div id="collapseFour" class="collapse" aria-labelledby="headingFour" data-parent="#accordionExample4">
                                        <div class="card-body">
                                            <div id="ProblemaPantalla4">
                                                @* es id del div esta conformado por el nombre de la accion y el id de la pantalla que corresponde *@
                                                @Html.Action("ProblemaPantalla", "Delegacion", new { IdPostulante = Model.ID_PER, IdPantalla = 4 })
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <br />
                            <div class="container text-center">
                                @Ajax.ActionLink("Validar", "CerrarPantalla", new { id = Model.ID_PER, IdPanatlla = 4, Aoc = 1 }, new AjaxOptions
                              {
                                HttpMethod = "POST",
                                OnSuccess = "Exito(data,status,xhr)",
                                OnFailure = "Falla"
                              }, new { @id = "BTValidar", @class = "btn btn-success btn-lg" })
                                @Ajax.ActionLink("Abrir", "CerrarPantalla", new { id = Model.ID_PER, IdPanatlla = 4, Aoc = 0 }, new AjaxOptions
                                 {
                                   HttpMethod = "POST",
                                   OnSuccess = "Exito(data,status,xhr)",
                                   OnFailure = "Falla"
                                 }, new { @id = "BTValidar", @class = "btn btn-success btn-lg" })
                            </div>
                        </div>
                    </div>
                    @* VISTA DE IDIOMAS *@
                    <div class="pos-f-t collapse tab-pane fade tab-nav" id="Idiomas">
                        <nav class="navbar navbar-dark bg-dark ocultnav">
                            <a class="navbar-brand" href="#">Idiomas</a>
                            <button id="BTIdiomasNAV" class="navbar-toggler collapsed" type="button" data-toggle="collapse" data-target="#IdiomasNAV" role="tabpanel" aria-labelledby="IdiomasNAV-tab" aria-controls="IdiomasNAV" aria-expanded="false" aria-label="Toggle navigation">
                                <span class="icon-bar"></span>
                                <span class="icon-bar"></span>
                                <span class="icon-bar"></span>
                            </button>
                        </nav>
                        <div class="collapse tab-pane fade nav-tab  pt-4" id="IdiomasNAV">
                            @Html.Action("Idiomas", "Postulante", new { ID_persona = Model.ID_PER })
                            <br />
                            <div class="accordion" id="accordionExample5">
                                <div class="card">
                                    <div class="card-header" id="headingFive">
                                        <h2 class="mb-0">
                                            <button class="btn btn-link habil" type="button" data-toggle="collapse" data-target="#collapseFive" aria-expanded="true" aria-controls="collapseFive">
                                                <i class="fa fa-plus-circle"></i> Agregar Problema
                                            </button>
                                        </h2>
                                    </div>
                                    <div id="collapseFive" class="collapse" aria-labelledby="headingFive" data-parent="#accordionExample5">
                                        <div class="card-body">
                                            <div id="ProblemaPantalla5">
                                                @* es id del div esta conformado por el nombre de la accion y el id de la pantalla que corresponde *@
                                                @Html.Action("ProblemaPantalla", "Delegacion", new { IdPostulante = Model.ID_PER, IdPantalla = 5 })
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <br />
                            <div class="container text-center">
                                @Ajax.ActionLink("Validar", "CerrarPantalla", new { id = Model.ID_PER, IdPanatlla = 5, Aoc = 1 }, new AjaxOptions
                              {
                                HttpMethod = "POST",
                                OnSuccess = "Exito(data,status,xhr)",
                                OnFailure = "Falla"
                              }, new { @id = "BTValidar", @class = "btn btn-success btn-lg" })
                                @Ajax.ActionLink("Abrir", "CerrarPantalla", new { id = Model.ID_PER, IdPanatlla = 5, Aoc = 0 }, new AjaxOptions
                                     {
                                       HttpMethod = "POST",
                                       OnSuccess = "Exito(data,status,xhr)",
                                       OnFailure = "Falla"
                                     }, new { @id = "BTValidar", @class = "btn btn-success btn-lg" })
                            </div>
                        </div>
                    </div>
                    @* VISTA DE ACTIVIDAD MILITAR *@
                    <div class="pos-f-t collapse tab-pane fade tab-nav" id="ActMilitar">
                        <nav class="navbar navbar-dark bg-dark ocultnav">
                            <a class="navbar-brand" href="#">Activiadad Militar</a>
                            <button id="BTActMilitarNAV" class="navbar-toggler collapsed" type="button" data-toggle="collapse" data-target="#ActMilitarNAV" role="tabpanel" aria-labelledby="ActMilitarNAV-tab" aria-controls="ActMilitarNAV" aria-expanded="false" aria-label="Toggle navigation">
                                <span class="icon-bar"></span>
                                <span class="icon-bar"></span>
                                <span class="icon-bar"></span>
                            </button>
                        </nav>
                        <div class="collapse tab-pane fade nav-tab pt-4" id="ActMilitarNAV">
                            @Html.Action("ActMilitar", "Postulante", new { ID_persona = Model.ID_PER })
                            <br />
                            <div class="accordion" id="accordionExample6">
                                <div class="card">
                                    <div class="card-header" id="headingSixe">
                                        <h2 class="mb-0">
                                            <button class="btn btn-link habil" type="button" data-toggle="collapse" data-target="#collapseSixe" aria-expanded="true" aria-controls="collapseSixe">
                                                <i class="fa fa-plus-circle"></i> Agregar Problema
                                            </button>
                                        </h2>
                                    </div>
                                    <div id="collapseSixe" class="collapse" aria-labelledby="headingSixe" data-parent="#accordionExample6">
                                        <div class="card-body">
                                            <div id="ProblemaPantalla6">
                                                @* es id del div esta conformado por el nombre de la accion y el id de la pantalla que corresponde *@
                                                @Html.Action("ProblemaPantalla", "Delegacion", new { IdPostulante = Model.ID_PER, IdPantalla = 6 })
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <br />
                            <div class="container text-center">
                                @Ajax.ActionLink("Validar", "CerrarPantalla", new { id = Model.ID_PER, IdPanatlla = 6, Aoc = 1 }, new AjaxOptions
                              {
                                HttpMethod = "POST",
                                OnSuccess = "Exito(data,status,xhr)",
                                OnFailure = "Falla"
                              }, new { @id = "BTValidar", @class = "btn btn-success btn-lg" })
                                @Ajax.ActionLink("Abrir", "CerrarPantalla", new { id = Model.ID_PER, IdPanatlla = 6, Aoc = 0 }, new AjaxOptions
                                 {
                                   HttpMethod = "POST",
                                   OnSuccess = "Exito(data,status,xhr)",
                                   OnFailure = "Falla"
                                 }, new { @id = "BTValidar", @class = "btn btn-success btn-lg" })
                            </div>
                        </div>
                    </div>
                    @* VISTA DE SITUACION OCUPACIONAL*@
                    <div class="pos-f-t collapse tab-pane fade tab-nav" id="SituOcu">
                        <nav class="navbar navbar-dark bg-dark ocultnav">
                            <a class="navbar-brand" href="#">Situcion Ocipacional</a>
                            <button id="BTSituOcuNAV" class="navbar-toggler collapsed" type="button" data-toggle="collapse" data-target="#SituOcuNAV" role="tabpanel" aria-labelledby="SituOcuNAV-tab" aria-controls="SituOcuNAV" aria-expanded="false" aria-label="Toggle navigation">
                                <span class="icon-bar"></span>
                                <span class="icon-bar"></span>
                                <span class="icon-bar"></span>
                            </button>
                        </nav>
                        <div class="collapse tab-pane fade nav-tab pt-4" id="SituOcuNAV">
                            @Html.Action("SituOcupacional", "Postulante", new { ID_persona = Model.ID_PER })
                            <br />
                            <div class="accordion" id="accordionExample7">
                                <div class="card">
                                    <div class="card-header" id="headingSeven">
                                        <h2 class="mb-0">
                                            <button class="btn btn-link habil" type="button" data-toggle="collapse" data-target="#collapseSeven" aria-expanded="true" aria-controls="collapseSeven">
                                                <i class="fa fa-plus-circle"></i> Agregar Problema
                                            </button>
                                        </h2>
                                    </div>
                                    <div id="collapseSeven" class="collapse" aria-labelledby="headingSeven" data-parent="#accordionExample7">
                                        <div class="card-body">
                                            <div id="ProblemaPantalla7">
                                                @* es id del div esta conformado por el nombre de la accion y el id de la pantalla que corresponde *@
                                                @Html.Action("ProblemaPantalla", "Delegacion", new { IdPostulante = Model.ID_PER, IdPantalla = 7 })
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <br />
                            <div class="container text-center">
                                @Ajax.ActionLink("Validar", "CerrarPantalla", new { id = Model.ID_PER, IdPanatlla = 7, Aoc = 1 }, new AjaxOptions
                              {
                                HttpMethod = "POST",
                                OnSuccess = "Exito(data,status,xhr)",
                                OnFailure = "Falla"
                              }, new { @id = "BTValidar", @class = "btn btn-success btn-lg" })
                                @Ajax.ActionLink("Abrir", "CerrarPantalla", new { id = Model.ID_PER, IdPanatlla = 7, Aoc = 0 }, new AjaxOptions
                                 {
                                   HttpMethod = "POST",
                                   OnSuccess = "Exito(data,status,xhr)",
                                   OnFailure = "Falla"
                                 }, new { @id = "BTValidar", @class = "btn btn-success btn-lg" })
                            </div>
                        </div>
                    </div>
                    @* VISTA DE ANTROPOMETRIA *@
                    <div class="pos-f-t collapse tab-pane fade tab-nav" id="Antropometria">
                        <nav class="navbar navbar-dark bg-dark ocultnav">
                            <a class="navbar-brand" href="#">Medidas y Tallas</a>
                            <button id="BTAntropometriaNAV" class="navbar-toggler collapsed" type="button" data-toggle="collapse" data-target="#AntropometriaNAV" role="tabpanel" aria-labelledby="AntropometriaNAV-tab" aria-controls="AntropometriaNAV" aria-expanded="false" aria-label="Toggle navigation">
                                <span class="icon-bar"></span>
                                <span class="icon-bar"></span>
                                <span class="icon-bar"></span>
                            </button>
                        </nav>
                        <div class="collapse tab-pane fade nav-tab pt-4" id="AntropometriaNAV">
                            @Html.Action("Antropometria", "Postulante", new { ID_persona = Model.ID_PER })
                            <br />
                            <div class="accordion" id="accordionExample8">
                                <div class="card">
                                    <div class="card-header" id="headingEight">
                                        <h2 class="mb-0">
                                            <button class="btn btn-link habil" type="button" data-toggle="collapse" data-target="#collapseEight" aria-expanded="true" aria-controls="collapseEight">
                                                <i class="fa fa-plus-circle"></i> Agregar Problema
                                            </button>
                                        </h2>
                                    </div>
                                    <div id="collapseEight" class="collapse" aria-labelledby="headingEight" data-parent="#accordionExample8">
                                        <div class="card-body">
                                            <div id="ProblemaPantalla8">
                                                @* es id del div esta conformado por el nombre de la accion y el id de la pantalla que corresponde *@
                                                @Html.Action("ProblemaPantalla", "Delegacion", new { IdPostulante = Model.ID_PER, IdPantalla = 8 })
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <br />
                            <div class="container text-center">
                                @Ajax.ActionLink("Validar", "CerrarPantalla", new { id = Model.ID_PER, IdPanatlla = 8, Aoc = 1 }, new AjaxOptions
                              {
                                HttpMethod = "POST",
                                OnSuccess = "Exito(data,status,xhr)",
                                OnFailure = "Falla"
                              }, new { @id = "BTValidar", @class = "btn btn-success btn-lg" })
                                @Ajax.ActionLink("Abrir", "CerrarPantalla", new { id = Model.ID_PER, IdPanatlla = 8, Aoc = 0 }, new AjaxOptions
                                 {
                                   HttpMethod = "POST",
                                   OnSuccess = "Exito(data,status,xhr)",
                                   OnFailure = "Falla"
                                 }, new { @id = "BTValidar", @class = "btn btn-success btn-lg" })
                            </div>
                        </div>
                    </div>
                    @* VISTA DE FAMILIA*@
                    <div class="pos-f-t collapse tab-pane fade tab-nav" id="Familia">
                        <nav class="navbar navbar-dark bg-dark ocultnav">
                            <a class="navbar-brand" href="#">Familia</a>
                            <button id="BTFamiliaNAV" class="navbar-toggler collapsed" type="button" data-toggle="collapse" data-target="#FamiliaNAV" role="tabpanel" aria-labelledby="FamiliaNAV-tab" aria-controls="FamiliaNAV" aria-expanded="false" aria-label="Toggle navigation">
                                <span class="icon-bar"></span>
                                <span class="icon-bar"></span>
                                <span class="icon-bar"></span>
                            </button>
                        </nav>
                        <div class="collapse tab-pane fade nav-tab pt-4" id="FamiliaNAV">
                            @Html.Action("Familia", "Postulante", new { ID_persona = Model.ID_PER })
                            <br />
                            <div class="accordion" id="accordionExample9">
                                <div class="card">
                                    <div class="card-header" id="headingNine">
                                        <h2 class="mb-0">
                                            <button class="btn btn-link habil" type="button" data-toggle="collapse" data-target="#collapseNine" aria-expanded="true" aria-controls="collapseNine">
                                                <i class="fa fa-plus-circle"></i> Agregar Problema
                                            </button>
                                        </h2>
                                    </div>
                                    <div id="collapseNine" class="collapse" aria-labelledby="headingNine" data-parent="#accordionExample9">
                                        <div class="card-body">
                                            <div id="ProblemaPantalla9">
                                                @* es id del div esta conformado por el nombre de la accion y el id de la pantalla que corresponde *@
                                                @Html.Action("ProblemaPantalla", "Delegacion", new { IdPostulante = Model.ID_PER, IdPantalla = 9 })
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <br />
                            <div class="container text-center">
                                @Ajax.ActionLink("Validar", "CerrarPantalla", new { id = Model.ID_PER, IdPanatlla = 9, Aoc = 1 }, new AjaxOptions
                              {
                                HttpMethod = "POST",
                                OnSuccess = "Exito(data,status,xhr)",
                                OnFailure = "Falla"
                              }, new { @id = "BTValidar", @class = "btn btn-success btn-lg" })
                                @Ajax.ActionLink("Abrir", "CerrarPantalla", new { id = Model.ID_PER, IdPanatlla = 9, Aoc = 0 }, new AjaxOptions
                                 {
                                   HttpMethod = "POST",
                                   OnSuccess = "Exito(data,status,xhr)",
                                   OnFailure = "Falla"
                                 }, new { @id = "BTValidar", @class = "btn btn-success btn-lg" })
                            </div>
                        </div>
                    </div>
                    @* VISTA DE Documentacion Presentada*@
                    <div class="pos-f-t collapse tab-pane fade tab-nav" id="DocumentosNecesarios">
                        <nav class="navbar navbar-dark bg-dark ocultnav">
                            <a class="navbar-brand" href="#">Documentacion Presentada</a>
                            <button id="BTFamiliaNAV" class="navbar-toggler collapsed" type="button" data-toggle="collapse" data-target="#FamiliaNAV" role="tabpanel" aria-labelledby="FamiliaNAV-tab" aria-controls="FamiliaNAV" aria-expanded="false" aria-label="Toggle navigation">
                                <span class="icon-bar"></span>
                                <span class="icon-bar"></span>
                                <span class="icon-bar"></span>
                            </button>
                        </nav>
                        <div class="collapse tab-pane fade nav-tab pt-4">
                            <div id="DocumentosNecesariosNAV">
                                @Html.Action("DocumentosNecesarios", "Delegacion", new { ID_persona = Model.ID_PER })
                            </div>
                            <br />
                            <hr />
                            @*@Html.Action("ListaProblema", "Delegacion", new { ID_persona = Model.ID_PER, IdPanatlla = 10 })*@
                            @*@Html.Partial("ListaProblema")*@
                            @*<br />*@
                            <div class="container text-center">
                                @Ajax.ActionLink("Validar", "CerrarPantalla", new { id = Model.ID_PER, IdPanatlla = 10, Aoc = 1 }, new AjaxOptions
                              {
                                HttpMethod = "POST",
                                OnSuccess = "Exito(data,status,xhr)",
                                OnFailure = "Falla"
                              }, new { @id = "BTValidar", @class = "btn btn-success btn-lg" })
                                @Ajax.ActionLink("Abrir", "CerrarPantalla", new { id = Model.ID_PER, IdPanatlla = 10, Aoc = 0 }, new AjaxOptions
                                 {
                                   HttpMethod = "POST",
                                   OnSuccess = "Exito(data,status,xhr)",
                                   OnFailure = "Falla"
                                 }, new { @id = "BTValidar", @class = "btn btn-success btn-lg" })
                            </div>
                        </div>
                    </div>
                    @* Validar Datos*@
                    <div class="pos-f-t collapse tab-pane fade tab-nav" id="ValidarDatos">
                        <nav class="navbar navbar-dark bg-dark ocultnav">
                            <a class="navbar-brand" href="#">Validar Datos</a>
                            <button id="BTValidarDatosNAV" class="navbar-toggler collapsed" type="button" data-toggle="collapse" data-target="#ValidarDatosNAV" role="tabpanel" aria-labelledby="ValidarDatosNAV-tab" aria-controls="ValidarDatosNAV" aria-expanded="false" aria-label="Toggle navigation">
                                <span class="icon-bar"></span>
                                <span class="icon-bar"></span>
                                <span class="icon-bar"></span>
                            </button>
                        </nav>
                        <div class="collapse tab-pane fade nav-tab pt-4" id="ValidarDatosNAV">
                            @*<h2>Validar Datos</h2>*@
                            <div class="jumbotron mb-0" style="background-color: #08495f; color:white">
                                <p>En el caso que no se encontraron falencias en los datos cargados por el postulante valide su documentacion.</p>
                                <div data-toggle="modal" data-target="#modal1">
                                    <button type="button" id="BTValidar" class="fa fa-check btn btn-success w-25 habil"> Confirmar</button>
                                </div>
                                <hr />
                                <p>Considerando que se han encontrado algunas falencias en la carga de datos del postulante esta opcion podra permitirlo volver a la etapa anterior para poder corregir su errores</p>
                                <div data-toggle="modal" data-target="#modal2">
                                    <button type="button" id="BTValidar" class="fa fa-reply btn btn-warning w-25 habil"> Volver Etapa Anterior</button>
                                </div>
                                <hr />
                                <p>En el caso que caso que usted considera que el postulanet no es apto para seguir el proceso de inscripcion.</p>
                                <div data-toggle="modal" data-target="#modal3">
                                    <button type="button" id="BTValidar" class="fa fa-times btn btn-danger w-25 habil"> Interrumpir Proceso</button>
                                </div>

                            </div>
                        </div>
                        <hr />
                        <div class="container align-content-center">
                            <h3 class="text-center">Problemas Encontrados en el Postulante</h3><br />
                            <table class="table mx-auto" id="TablaProblemaGeneral">
                                <thead>
                                    <tr>
                                        <th scope="col">
                                            Problemas Encontrado
                                        </th>
                                        <th scope="col">
                                            Comentario
                                        </th>
                                    </tr>
                                </thead>
                                <tbody>
                                    @{
                                        foreach (var item in Model.vDataProblemaEncontradosVmDocu)
                                        {
                                            <tr>
                                                <td scope="row">
                                                    @Html.DisplayFor(modelitem => item.DataVerificacion)
                                                </td>
                                                <td scope="row">
                                                    @Html.DisplayFor(modelitem => item.Comentario)
                                                </td>
                                            </tr>
                                        }
                                    }
                                </tbody>
                            </table>
                        </div>

                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<div class="modal fade " id="ModalEIA" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle" aria-hidden="true" style="position:absolute !important;">
    <div class="modal-dialog modal-dialog-centered modal-lg " role="document">
        <div class="modal-content " id="ModalEIACuerpo">

            <!----------------------------------------VISTA PARCIAL PARA LA ACTULIZACION Y CREAION DE REGISTRO DE ESTUDIOS DEL POSTULANTE------------------------------------------------------>

        </div>
    </div>
</div>
<div class="modal fade" id="modal1" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="exampleModalLabel">SINU</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
                Recuerde esta accion le permitira al postulante avanzar de etapa<br />
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-dark" data-dismiss="modal">Cerrar</button>
                @Ajax.ActionLink("Confirmar", "Documentacion", new { ID_persona = Model.ID_PER }, new AjaxOptions
                                                {
                                                HttpMethod = "POST",
                                                OnSuccess = "Exito(data,status,xhr)",
                                                OnFailure = "Falla"
                                                }, new { @id = "BTValidar", @class = "load-submit btn btn-success" })
            </div>
        </div>
    </div>
</div>
<div class="modal fade" id="modal2" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="exampleModalLabel">SINU</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
                Recuerde que esta accion le permitira al postulante volverlo a la etapa anterior y poder corregir los errores que fueron encontrados<br />
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-dark" data-dismiss="modal">Cerrar</button>
                @Ajax.ActionLink("Confirmar", "VolverEtapa", "Delegacion", new { ID_persona = Model.ID_PER }, new AjaxOptions
                {
                                                                                HttpMethod = "POST",
                                                                                OnSuccess = "Exito(data,status,xhr)",
                                                                                OnFailure = "Falla"
                                                                              }, new { @id = "BTValidar", @class = "load-submit btn btn-success" })
            </div>
        </div>
    </div>
</div>
<div class="modal fade" id="modal3" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="exampleModalLabel">SINU</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
                Esta Seguro que desea realizar la accion sobre el postulante, esto interrumpira el proceso de inscripcion<br />
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-dark" data-dismiss="modal">Cerrar</button>
                @Ajax.ActionLink(" Interrumpir Proceso", "InterrumpirProceso", new { ID_persona = Model.ID_PER }, new AjaxOptions
                                {
                                  HttpMethod = "POST",
                                  OnSuccess = "Exito(data,status,xhr)",
                                  OnFailure = "Falla"
                                }, new { @id = "BTValidar", @class = "load-submit btn btn-success" })
            </div>
        </div>
    </div>
</div>
<div class="modal fade" id="ModalAnuncios" tabindex="-1" role="dialog" aria-labelledby="ModalCenterTitle" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="ModalCenterTitle"></h5>

            </div>
            <div class="modal-body">
                <p id="TextModal"></p>
            </div>
            <div class="modal-footer ">
                <button type="button" class="btn btn-secondary" data-dismiss="modal" id="BTNModal"></button>
                @*<button type="button" class="btn btn-primary" id="GuardarDTF"></button>*@
            </div>
        </div>
    </div>
</div>

@section Scripts {
    @Scripts.Render("~/bundles/jqueryval")
    <script type="text/javascript" src="~/Scripts/JavaScriptPostulante.js"></script>
    <script type="text/javascript">
        $.NoEjecutar = true;
        id_per = $("#vPersona_DatosBasicosVM_IdPersona").val();
        TablaProblema;
        $(document).ready(function () {
            ActICO();

            //////////Muestra en la Documentacion Penal muestra enabled a los botones que si estan cargados la documentacion///////////
            var cert = '@Model.certificado'
            var anex = '@Model.anexo2'

            if (anex == "True") {
                $("#2labelprue").removeAttr("hidden");
                $("#HabilAnex").removeAttr("hidden");
            }
            else {
                $("#TextNoAnex").removeAttr("hidden");
            }
            if (cert == "True") {
                $("#1labelprue").removeAttr("hidden");

                $("#HabilCert").removeAttr("hidden");
            }
            else {
                $("#TextNoCert").removeAttr("hidden");
            }

            ////////////////////////////////////////////// fin del codigo de Documentacion Penal/////////////////////////////////

            ///////////////////////// Disabled/Enabled boton Noitificar////////////////////////////////////////////////////////////
            @*function exito(response) {
                var btnNoti = '@ViewBag.Problem'
                if (btnNoti == "True") {
                    $("#btnNotificar").addClass("disabled");
                    //document.getElementById("btnNotificar").disabled = true;
                }
                else {
                    $("#btnNotificar").removeClass("disabled");
                }
            }*@


            //////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

            $.BloqueoPantalla = true;
            $(".BTAcciones").remove();
            $("#TABBloqueo :input,#TABBloqueo input").not(".dataTables_wrapper input[type='search'],[type='checkbox'],[type='submit']").attr("disabled", "true");

            $(".habil").removeAttr("disabled");
            $(".BTMuestraTable :input,.BTMuestraTable a").removeAttr("disabled").not("[role='combobox']").removeClass("fa-edit").addClass("fa-eye");
            var bloqueoSUBMIT = false;

            $(".Agrega").on("click", function () {
                bloqueoSUBMIT = true;
            })
            $("#formularioid").on('submit', function (evt) {
                if (bloqueoSUBMIT) {
                    evt.preventDefault();
                }
                bloqueoSUBMIT = false;
                // tu codigo aqui
            });



            //Funcion para actualizar los iconos del TAB de las pantallas(pantalla cerrada, pantalla en edicion y cant de problemas de la pantalla)



            var tabla = $("#TListadoProblema").DataTable({
                retrieve: true,
            });
            tabla.destroy();
            $("#TListadoProblema").DataTable({
                retrieve: true,
                paging: true,
                "autoWidth": false,

                //ver si es necesario este fragmento
                select: false,//'single',
                "columnDefs": [{
                    "searchable": false,
                    "orderable": false,
                    "targets": [0]
                }],
                "ordering": false,
                //"dom": 'frtp',
                "language":
                {
                    "sProcessing": "Procesando...",
                    "sLengthMenu": "Mostrar _MENU_ registros",
                    "sZeroRecords": "No se encontraron resultados",
                    "sEmptyTable": "Ningún dato disponible en esta tabla",
                    "sInfo": "Mostrando registros del _START_ al _END_ de un total de _TOTAL_ registros",
                    "sInfoEmpty": "Mostrando registros del 0 al 0 de un total de 0 registros",
                    "sInfoFiltered": "(filtrado de un total de _MAX_ registros)",
                    "sInfoPostFix": "",
                    "sSearch": "Buscar:",
                    "sUrl": "",
                    "sInfoThousands": ",",
                    "sLoadingRecords": "Cargando...",
                    "oPaginate": {
                        "sFirst": "Primero",
                        "sLast": "Último",
                        "sNext": "Siguiente",
                        "sPrevious": "Anterior"
                    },
                    "oAria": {
                        "sSortAscending": ": Activar para ordenar la columna de manera ascendente",
                        "sSortDescending": ": Activar para ordenar la columna de manera descendente"
                    },
                },
            });



            TablaProblema = $("#TablaProblemaGeneral").DataTable();


            //$(".Agrega").on("click", function () {
            //    id_registro = $(this).attr("data-ID");
            //    id_tabla = id = $(this).closest("table").attr("ID");
            //    //alert(id_registro+ "  " +id_tabla);
            //    ModalEIACUD(id_registro, id_persona, id_tabla);
            //    $("#ModalEIA").modal("show");
            //});

            //$(".Nuevo_REG").on("click", function () {
            //    var id_Tabla = $(this).attr("data-IdTabla");
            //    ModalEIACUD(null, id_persona, id_Tabla);
            //});

            //var tablaProblema = $("#TListadoProblema").DataTable()

            //function ModalEIACUD(id_registro, id_persona, id_Tabla) {

            //    //elimino el contenido html del modal
            //    $('#ModalEIACuerpo').html("");

            //    //cargo la url que se utilizara para el armado del MODAL
            //    //estos datos esta como atributos de las distintas tablas



            //    $.ajax({
            //        cache: false,
            //        asyn: false,
            //        type: "GET",
            //        url: '/Postulante/' + url_CUD,
            //        data: { ID: id_registro, ID_persona: id_persona },
            //        //si no surge error al redireccionar se reemplaza el contenido de la div
            //        success: function (response) {
            //            $('#ModalEIACuerpo').html(response);

            //            //con esto  funciona la validacion del lado del cliente con la vista parcial
            //            $('#ModalEIACuerpo').removeData("validator");
            //            $('#ModalEIACuerpo').removeData("unobtrusiveValidation");
            //            $.validator.unobtrusive.parse('#ModalEIACuerpo');

            //            //se aplicael selecpicker a alos conbo/s con autocomplete Y busqueda
            //            /* https://developer.snapappointments.com/bootstrap-select/ */
            //            $(".combobox").selectpicker({
            //                liveSearch: true,
            //                size: 7,
            //                liveSearchPlaceholder: "Ingrese su busqueda",
            //                liveSearchStyle: 'contains',//'startsWith'
            //                noneResultsText: 'No se Encuantran Resultados',
            //                noneSelectedText: 'Ninguna Opcion Seleccionada'
            //            });

            //        }
            //    })
            //}
        })
        function ACT_tablaProblema() {
            //elimino los registros de la tabla
            TablaProblema.clear().draw();
            //llamo a la acction con los datos de la tabla actualizada
            $.get("/Delegacion/ActuTabla", { IdPersona: id_per }, function (response) {
                var jsonProblemas = JSON.parse(response.estado);
                $.each(jsonProblemas, function (index,item) {
                    TablaProblema.row.add(item);
                })
                TablaProblema.draw();
            })
        };
        function ActICO() {
            //id de la persona que se cargaran el estado de cada pantalla


            $.get("/Delegacion/ActualizaIcon", { id_persona: id_per },

                function (data) {
                    var jsonProblemas = JSON.parse(data.estado);
                    $.each(jsonProblemas, function (index, item) {
                        $("#TABDocumentacion a[aria-controls='" + item[0] + "'] i").remove();
                        //alert(item[1]);
                        if (!item[1]) {
                            //alert("cerrado");
                            $("#TABDocumentacion a[aria-controls='" + item[0] + "']").prepend("<i class='fa fa-fw fa-check-circle' style='color: lawngreen'></i>")
                        } else if (item[2] == "0") {
                            $("#TABDocumentacion a[aria-controls='" + item[0] + "']").prepend("<i class='fa fa-fw fa-file' style='color: #00d1f8fa;'></i>");
                        } else {
                            $("#TABDocumentacion a[aria-controls='" + item[0] + "']").prepend("<i class='fa fa-fw fa-' style='color: #ff0018; border-radius: 100%; border: 2px solid;'>" + item[2] + "</i>");
                        };
                    });
                });
        }

        function Exito(response) {
            if (response.View == "Index") {
                window.location.href = "/Delegacion/Index"
            };
            ActICO();
            ACT_tablaProblema();
            $.Anuncio(response.msg);
            switch (response.form) {
                case "Elimina":
                    var idpostulante = $("#vPersona_DatosBasicosVM_IdPersona").val();
                    var idPantalla = response.IdPantalla;
                    $("#" + response.url_Tabla + response.IdPantalla).load("/" + response.url_Controller + "/" + response.url_Tabla + "?", $.param({ IdPostulante: idpostulante, IdPantalla: idPantalla }), function () {
                        $("#" + response.url_Tabla + response.IdPantalla + " table").DataTable();
                        $("#" + response.url_Tabla + response.IdPantalla + " select").selectpicker();
                    });
                    break;
                case "ActualizaDocuNec":
                    $.ActualizaTabla(response.url_Tabla, response.url_Controller);
                    break;
                default:
                    break;
            };
             var btnNoti = '@ViewBag.Problem'
                if (btnNoti == "True") {
                    $("#btnNotificar").addClass("disabled");
                    //document.getElementById("btnNotificar").disabled = true;
                }
                else {
                    $("#btnNotificar").removeClass("disabled");
                }
        }
        function Falla(response) {
            alert(reponse.msg)
        }
    </script>
}
